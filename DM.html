<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hasnain Pathan - Digital Marketing & Growth</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --background: 0 0% 3.9%;
            --foreground: 0 0% 98%;
            --card: 0 0% 3.9%;
            --card-foreground: 0 0% 98%;
            --popover: 0 0% 3.9%;
            --popover-foreground: 0 0% 98%;
            --primary: 0 0% 98%;
            --primary-foreground: 0 0% 9.8%;
            --secondary: 0 0% 14.9%;
            --secondary-foreground: 0 0% 98%;
            --muted: 0 0% 14.9%;
            --muted-foreground: 0 0% 63.9%;
            --accent: 0 0% 14.9%;
            --accent-foreground: 0 0% 98%;
            --border: 0 0% 14.9%;
            --input: 0 0% 14.9%;
            --ring: 0 0% 83.1%;
            --radius: 0.5rem;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
        }

        .page-transition-enter {
            opacity: 0;
            transform: translateY(20px);
        }
        .page-transition-enter-active {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 300ms, transform 300ms;
        }
        .page-transition-exit {
            opacity: 1;
        }
        .page-transition-exit-active {
            opacity: 0;
            transition: opacity 150ms;
        }
        
        .animated-gradient {
            animation: gradient-animation 15s ease infinite;
            background: linear-gradient(-45deg, #00c6ff, #0072ff, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
        }

        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-effect {
            background: rgba(10, 10, 10, 0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .magnetic-button {
            transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .kpi-ticker-item {
            animation: ticker-scroll 20s linear infinite;
        }

        @keyframes ticker-scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        /* Softer focus ring */
        *:focus-visible {
            outline: 2px solid #00c6ff;
            outline-offset: 2px;
            border-radius: 4px;
        }

    </style>
</head>
<body class="antialiased">
    <div id="app-container">
        <!-- HEADER -->
        <header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 glass-effect">
            <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
                <a href="#/" class="text-2xl font-bold text-white tracking-wider nav-link">Hasnain Pathan</a>
                <div class="hidden lg:flex items-center space-x-8">
                    <a href="#/services" class="text-gray-300 hover:text-white transition nav-link">Services</a>
                    <a href="#/case-studies" class="text-gray-300 hover:text-white transition nav-link">Case Studies</a>
                    <a href="#/about" class="text-gray-300 hover:text-white transition nav-link">About</a>
                    <a href="#/blog" class="text-gray-300 hover:text-white transition nav-link">Blog</a>
                    <a href="#/contact" class="text-gray-300 hover:text-white transition nav-link">Contact</a>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="cmd-k-button" class="hidden sm:flex items-center space-x-2 border border-gray-600 px-3 py-1.5 rounded-md text-gray-400 hover:text-white hover:border-gray-400 transition">
                        <i data-lucide="command" class="w-4 h-4"></i>
                        <span class="text-sm">âŒ˜K</span>
                    </button>
                    <button id="mobile-menu-button" class="lg:hidden text-white focus:outline-none">
                        <i data-lucide="menu" class="w-6 h-6"></i>
                    </button>
                </div>
            </nav>
        </header>

        <!-- MOBILE MENU -->
        <div id="mobile-menu" class="hidden fixed inset-0 z-40 bg-black/80 backdrop-blur-sm">
            <div class="bg-black w-4/5 max-w-sm h-full p-6 pt-24">
                <a href="#/services" class="block py-3 text-lg nav-link mobile-link">Services</a>
                <a href="#/case-studies" class="block py-3 text-lg nav-link mobile-link">Case Studies</a>
                <a href="#/about" class="block py-3 text-lg nav-link mobile-link">About</a>
                <a href="#/blog" class="block py-3 text-lg nav-link mobile-link">Blog</a>
                <a href="#/contact" class="block py-3 text-lg nav-link mobile-link">Contact</a>
            </div>
        </div>
        
        <!-- COMMAND PALETTE -->
        <div id="command-palette" class="hidden fixed inset-0 z-50 bg-black/80 backdrop-blur-sm items-start justify-center pt-[15vh]">
            <div class="w-full max-w-xl bg-gray-900 border border-gray-700 rounded-lg shadow-2xl overflow-hidden">
                <div class="p-4 border-b border-gray-700 flex items-center">
                    <i data-lucide="search" class="w-5 h-5 text-gray-400 mr-3"></i>
                    <input type="text" id="command-input" placeholder="Search for pages, case studies..." class="w-full bg-transparent text-white focus:outline-none">
                </div>
                <ul id="command-results" class="max-h-80 overflow-y-auto">
                    <!-- Results will be populated by JS -->
                </ul>
            </div>
        </div>

        <!-- MAIN CONTENT AREA -->
        <main id="main-content" class="pt-16">
            <!-- All "pages" are sections here. JS will show/hide them. -->
        </main>

        <!-- FOOTER -->
        <footer class="bg-gray-900/50 border-t border-gray-800 mt-16">
            <div class="container mx-auto px-6 py-12">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
                    <div>
                        <h3 class="text-xl font-bold">Hasnain Pathan</h3>
                        <p class="text-gray-400 mt-2">Digital Marketing & Growth Consultant</p>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Quick Links</h4>
                        <ul>
                            <li><a href="#/about" class="text-gray-400 hover:text-white transition nav-link">About</a></li>
                            <li><a href="#/services" class="text-gray-400 hover:text-white transition nav-link">Services</a></li>
                            <li><a href="#/case-studies" class="text-gray-400 hover:text-white transition nav-link">Case Studies</a></li>
                            <li><a href="#/contact" class="text-gray-400 hover:text-white transition nav-link">Contact</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Get in Touch</h4>
                        <p class="text-gray-400">Let's build something great together.</p>
                        <a href="mailto:Prof.hasnen@outlook.com" class="inline-block mt-4 bg-cyan-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-cyan-600 transition-colors duration-300">
                            Prof.hasnen@outlook.com
                        </a>
                    </div>
                </div>
                <div class="mt-12 border-t border-gray-800 pt-6 text-center text-gray-500">
                    <p>&copy; 2025 Hasnain Pathan. All Rights Reserved.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- TEMPLATES for pages -->
    <template id="page-home">
        <section class="min-h-screen flex flex-col items-center justify-center text-center relative overflow-hidden">
            <div class="absolute inset-0 animated-gradient opacity-20"></div>
            <div class="relative z-10 p-6">
                <h1 class="text-5xl md:text-7xl font-black text-white leading-tight mb-4">
                    Data-Driven Growth for Ambitious Brands
                </h1>
                <p class="text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto">
                    I partner with businesses to build scalable marketing engines that drive predictable revenue.
                </p>
                <div class="mt-8 flex justify-center gap-4">
                     <a href="#/case-studies" class="bg-cyan-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-cyan-600 transition-colors duration-300 transform hover:scale-105 nav-link magnetic-button">View My Work</a>
                     <a href="#/contact" class="bg-gray-700 text-white font-bold py-3 px-8 rounded-lg hover:bg-gray-600 transition-colors duration-300 transform hover:scale-105 nav-link magnetic-button">Contact Me</a>
                </div>
            </div>
            <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black to-transparent">
                <div class="w-full h-full overflow-hidden relative">
                    <div class="absolute top-0 flex whitespace-nowrap animate-marquee">
                        <div class="flex items-center space-x-8 px-4 kpi-ticker-item">
                            <span>ROAS <span class="text-green-400 kpi-value" data-target="3.5" data-suffix="x">0.0x</span></span>
                            <span>CAC <span class="text-green-400 kpi-value" data-target="22" data-prefix="$">$-</span></span>
                            <span>LTV <span class="text-green-400 kpi-value" data-target="450" data-prefix="$">$-</span></span>
                            <span>CVR <span class="text-green-400 kpi-value" data-target="4.2" data-suffix="%">0.0%</span></span>
                        </div>
                        <div class="flex items-center space-x-8 px-4 kpi-ticker-item" aria-hidden="true">
                           <span>ROAS <span class="text-green-400 kpi-value" data-target="3.5" data-suffix="x">0.0x</span></span>
                            <span>CAC <span class="text-green-400 kpi-value" data-target="22" data-prefix="$">$-</span></span>
                            <span>LTV <span class="text-green-400 kpi-value" data-target="450" data-prefix="$">$-</span></span>
                            <span>CVR <span class="text-green-400 kpi-value" data-target="4.2" data-suffix="%">0.0%</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <template id="page-case-studies">
        <section class="container mx-auto px-6 py-16">
            <h1 class="text-4xl font-bold text-center mb-2">Case Studies</h1>
            <p class="text-center text-gray-400 mb-10 max-w-2xl mx-auto">Proven results. See how I've helped brands like yours achieve their goals through strategic digital marketing.</p>
            
            <div id="case-study-filters" class="flex flex-wrap justify-center gap-2 mb-8">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="ecommerce">E-commerce</button>
                <button class="filter-btn" data-filter="saas">SaaS</button>
                <button class="filter-btn" data-filter="b2b">B2B</button>
            </div>

            <div id="case-study-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Case studies will be populated by JS -->
            </div>
        </section>
    </template>
    
    <template id="page-case-study-detail">
         <section class="container mx-auto px-6 py-16">
            <div class="max-w-4xl mx-auto">
                <a href="#/case-studies" class="nav-link text-cyan-400 hover:text-cyan-300 mb-8 inline-block">&larr; Back to Case Studies</a>
                <h1 id="detail-title" class="text-4xl md:text-5xl font-bold mb-4"></h1>
                <p id="detail-subtitle" class="text-xl text-gray-400 mb-8"></p>
                <img id="detail-image" src="" alt="" class="rounded-lg mb-8 w-full object-cover aspect-video">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center mb-12 border-y border-gray-800 py-8">
                    <div>
                        <p class="text-gray-400 text-sm">ROAS</p>
                        <p id="detail-kpi1" class="text-3xl font-bold text-green-400"></p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Conversion Rate</p>
                        <p id="detail-kpi2" class="text-3xl font-bold text-green-400"></p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Ad Spend</p>
                        <p id="detail-kpi3" class="text-3xl font-bold"></p>
                    </div>
                     <div>
                        <p class="text-gray-400 text-sm">Timeline</p>
                        <p id="detail-kpi4" class="text-3xl font-bold"></p>
                    </div>
                </div>
                <div id="detail-content" class="prose prose-invert lg:prose-xl max-w-none">
                </div>
            </div>
        </section>
    </template>

    <template id="page-contact">
        <section class="container mx-auto px-6 py-16">
            <h1 class="text-4xl font-bold text-center mb-2">Contact Me</h1>
            <p class="text-center text-gray-400 mb-10 max-w-2xl mx-auto">Have a project in mind or just want to say hi? Let's connect.</p>
            <div class="max-w-xl mx-auto glass-effect p-8 rounded-lg">
                 <form id="contact-form" class="space-y-6">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-300">Name</label>
                        <input type="text" id="name" required class="mt-1 block w-full bg-gray-800 border-gray-600 rounded-md shadow-sm py-3 px-4 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-300">Email</label>
                        <input type="email" id="email" required class="mt-1 block w-full bg-gray-800 border-gray-600 rounded-md shadow-sm py-3 px-4 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-300">Message</label>
                        <textarea id="message" rows="4" required class="mt-1 block w-full bg-gray-800 border-gray-600 rounded-md shadow-sm py-3 px-4 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"></textarea>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="inline-block bg-cyan-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-cyan-600 transition-colors duration-300 transform hover:scale-105">
                            Send Message
                        </button>
                    </div>
                 </form>
                 <div id="form-success-message" class="hidden text-center bg-green-900/50 border border-green-700 p-4 rounded-md">
                     <p>Thank you for your message! I'll get back to you shortly.</p>
                 </div>
            </div>
        </section>
    </template>

    <template id="page-404">
        <section class="container mx-auto px-6 py-32 text-center">
            <h1 class="text-6xl font-bold text-cyan-400">404</h1>
            <p class="text-2xl mt-4">Page Not Found</p>
            <p class="text-gray-400 mt-2">Sorry, the page you are looking for does not exist.</p>
            <a href="#/" class="nav-link inline-block mt-8 bg-cyan-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-cyan-600 transition">Go Home</a>
        </section>
    </template>

    <!-- Generic Page Template for About, Services, Blog etc. -->
    <template id="page-generic">
        <section class="container mx-auto px-6 py-16">
            <div class="max-w-4xl mx-auto prose prose-invert lg:prose-xl">
                 <h1 id="generic-title"></h1>
                 <div id="generic-content"></div>
            </div>
        </section>
    </template>


    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- DATA ---
        // Simulating data from a Headless CMS
        const db = {
            pages: {
                '/about': { title: 'About Me', content: `
                    <h2>Mission-Driven Marketing Professional</h2>
                    <p>For over 8 years, I've been obsessed with one thing: driving measurable growth. I'm not just a marketer; I'm a growth architect who blends creative strategy with rigorous data analysis to build marketing engines that deliver predictable, scalable results.</p>
                    <p>My expertise lies in full-funnel marketing, from acquisition and activation to retention and revenue. I thrive on solving complex challenges and turning ambitious business goals into reality.</p>
                    <h3>My Toolkit Includes:</h3>
                    <ul>
                        <li>Advanced SEO & SEM Strategies</li>
                        <li>High-Converting Paid Social Campaigns (Meta, LinkedIn, TikTok)</li>
                        <li>Marketing Automation & CRM (HubSpot, Marketo)</li>
                        <li>Conversion Rate Optimization (CRO) & A/B Testing</li>
                        <li>Data Analytics & Visualization (GA4, Looker Studio, Mixpanel)</li>
                    </ul>
                    <p>Ready to scale? <a href="#/contact" class="nav-link">Let's talk.</a></p>
                `},
                '/services': { title: 'Services', content: `
                    <h2>How I Can Help You Grow</h2>
                    <p>I offer a suite of services designed to address your most critical growth challenges. Each engagement is tailored to your specific needs, ensuring a strategic and results-oriented partnership.</p>
                    <h3>Core Offerings:</h3>
                    <ol>
                        <li><strong>Growth Strategy & Consulting:</strong> We'll audit your current marketing efforts, identify high-impact opportunities, and build a roadmap for scalable growth.</li>
                        <li><strong>Paid Acquisition Management:</strong> Expert management of your ad campaigns across Google, Meta, LinkedIn, and other key channels to maximize ROAS.</li>
                        <li><strong>SEO & Content Marketing:</strong> A comprehensive approach to dominate search rankings, drive organic traffic, and establish your brand as an industry authority.</li>
                        <li><strong>Marketing Operations & Automation:</strong> We'll set up and optimize your marketing stack to nurture leads, improve efficiency, and prove ROI.</li>
                    </ol>
                `},
                '/blog': { title: 'Blog', content: `
                    <h2>Thoughts on Growth & Digital Marketing</h2>
                    <p>A collection of insights, strategies, and lessons learned from the front lines of digital marketing. Here are a few recent posts:</p>
                    <div class="space-y-8 mt-8">
                        <div class="border-l-4 border-cyan-500 pl-4">
                            <h3 class="text-2xl font-semibold">The Death of Third-Party Cookies: A Marketer's Survival Guide</h3>
                            <p class="text-gray-400">Navigating the new landscape of digital privacy while still driving results.</p>
                        </div>
                        <div class="border-l-4 border-cyan-500 pl-4">
                            <h3 class="text-2xl font-semibold">5 Common Landing Page Mistakes That Are Killing Your Conversion Rate</h3>
                            <p class="text-gray-400">Simple, actionable fixes to improve your CRO today.</p>
                        </div>
                         <div class="border-l-4 border-cyan-500 pl-4">
                            <h3 class="text-2xl font-semibold">Beyond Vanity Metrics: How to Measure What Truly Matters in Marketing</h3>
                            <p class="text-gray-400">Focus on the KPIs that directly impact your bottom line.</p>
                        </div>
                    </div>
                `}
            },
            caseStudies: [
                { slug: 'saas-startup-growth', title: 'Scaling a SaaS Startup to $1M ARR', subtitle: 'A comprehensive inbound marketing strategy.', category: 'saas', image: 'https://placehold.co/1200x675/00c6ff/0a0a0a?text=SaaS+Growth', kpi1: '+350% MRR', kpi2: '+120% Trials', kpi3: '$15k/mo', kpi4: '12 Months', content: '<p>The challenge was clear: increase monthly recurring revenue for a promising but stagnant SaaS product. We developed a content-driven SEO strategy targeting high-intent keywords, combined with a lead nurturing system via HubSpot. The result was a dramatic increase in qualified leads and a sustainable engine for long-term growth.</p>'},
                { slug: 'ecommerce-roas-boost', title: 'Boosting E-commerce ROAS by 200%', subtitle: 'Optimizing paid social for a fashion brand.', category: 'ecommerce', image: 'https://placehold.co/1200x675/e73c7e/0a0a0a?text=E-commerce+ROAS', kpi1: '4.5x ROAS', kpi2: '+200% MoM', kpi3: '$50k/mo', kpi4: '6 Months', content: '<p>This fashion brand had a great product but was struggling with profitability from their Meta ads. By overhauling their campaign structure, implementing advanced retargeting strategies, and deploying high-quality user-generated content, we tripled their return on ad spend within six months.</p>'},
                { slug: 'b2b-lead-generation', title: 'Generating High-Quality B2B Leads', subtitle: 'A LinkedIn and SEO strategy for a tech company.', category: 'b2b', image: 'https://placehold.co/1200x675/23a6d5/0a0a0a?text=B2B+Leads', kpi1: '+500% SQLs', kpi2: '-40% CPL', kpi3: '$25k/mo', kpi4: '9 Months', content: '<p>The goal was to generate more sales-qualified leads for a B2B tech firm. We combined a targeted LinkedIn Ads campaign aimed at key decision-makers with a thought leadership content strategy that improved organic search rankings for critical industry terms. This dual approach significantly lowered the cost per lead while increasing lead quality.</p>'},
                { slug: 'app-install-campaign', title: 'Driving App Installs for a Mobile Game', subtitle: 'A TikTok and ASO campaign.', category: 'ecommerce', image: 'https://placehold.co/1200x675/ee7752/0a0a0a?text=Mobile+App', kpi1: '1M+ Installs', kpi2: '$0.30 CPI', kpi3: '$100k Total', kpi4: '3 Months', content: '<p>Launched a new mobile game into a competitive market. Our strategy focused on viral-style video content for TikTok and a meticulous App Store Optimization (ASO) process. The campaign exceeded all targets, achieving over a million installs at an extremely efficient cost per install.</p>'},
            ],
            commandPaletteLinks: [
                { name: 'Home', path: '#/' },
                { name: 'Services', path: '#/services' },
                { name: 'Case Studies', path: '#/case-studies' },
                { name: 'About Me', path: '#/about' },
                { name: 'Blog', path: '#/blog' },
                { name: 'Contact', path: '#/contact' },
            ]
        };
        db.caseStudies.forEach(cs => {
            db.commandPaletteLinks.push({ name: `Case Study: ${cs.title}`, path: `#/case-studies/${cs.slug}` });
        });


        // --- UI ELEMENTS ---
        const mainContent = document.getElementById('main-content');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const cmdKButton = document.getElementById('cmd-k-button');
        const commandPalette = document.getElementById('command-palette');
        const commandInput = document.getElementById('command-input');
        const commandResults = document.getElementById('command-results');


        // --- ROUTER ---
        const router = {
            routes: {
                '/': 'page-home',
                '/case-studies': 'page-case-studies',
                '/case-studies/:slug': 'page-case-study-detail',
                '/contact': 'page-contact',
            },

            render(path) {
                // Clear current content
                if (mainContent.firstElementChild) {
                    mainContent.firstElementChild.classList.remove('page-transition-enter-active');
                    mainContent.firstElementChild.classList.add('page-transition-exit-active');
                    mainContent.firstElementChild.addEventListener('transitionend', () => {
                        if (mainContent.firstElementChild) mainContent.removeChild(mainContent.firstElementChild);
                        this.loadContent(path);
                    }, { once: true });
                } else {
                    this.loadContent(path);
                }
            },
            
            loadContent(path) {
                window.scrollTo(0, 0);
                
                const slugMatch = path.match(/^\/case-studies\/(.*)$/);
                
                let templateId;
                if (slugMatch) {
                    templateId = this.routes['/case-studies/:slug'];
                } else {
                    templateId = this.routes[path] || (db.pages[path] ? 'page-generic' : 'page-404');
                }
                
                const template = document.getElementById(templateId);
                if (!template) {
                    console.error(`Template not found for path: ${path}`);
                    this.render('/404');
                    return;
                }
                const newPage = template.content.cloneNode(true).firstElementChild;

                // Populate content
                if (templateId === 'page-case-study-detail' && slugMatch) {
                    this.populateCaseStudyDetail(newPage, slugMatch[1]);
                } else if (templateId === 'page-case-studies') {
                    this.populateCaseStudies(newPage);
                } else if (templateId === 'page-generic') {
                    this.populateGenericPage(newPage, path);
                } else if (templateId === 'page-home') {
                    this.initializeHomePage(newPage);
                } else if (templateId === 'page-contact') {
                    this.initializeContactPage(newPage);
                }

                mainContent.appendChild(newPage);
                requestAnimationFrame(() => {
                   newPage.classList.add('page-transition-enter', 'page-transition-enter-active');
                });
                lucide.createIcons();
            },
            
            populateGenericPage(page, path) {
                const pageData = db.pages[path];
                page.querySelector('#generic-title').textContent = pageData.title;
                page.querySelector('#generic-content').innerHTML = pageData.content;
            },
            
            populateCaseStudies(page) {
                const grid = page.querySelector('#case-study-grid');
                const filters = page.querySelector('#case-study-filters');
                
                const renderGrid = (filter = 'all') => {
                    grid.innerHTML = '';
                    const filteredStudies = filter === 'all' 
                        ? db.caseStudies 
                        : db.caseStudies.filter(cs => cs.category === filter);

                    filteredStudies.forEach(cs => {
                        const card = document.createElement('div');
                        card.className = 'bg-gray-800/50 border border-gray-700 rounded-lg overflow-hidden transition-transform transform hover:-translate-y-1';
                        card.innerHTML = `
                            <a href="#/case-studies/${cs.slug}" class="nav-link block">
                                <img src="${cs.image}" alt="${cs.title}" class="w-full h-48 object-cover">
                                <div class="p-6">
                                    <p class="text-sm text-cyan-400 mb-1 capitalize">${cs.category}</p>
                                    <h3 class="text-xl font-bold mb-2">${cs.title}</h3>
                                    <p class="text-gray-400">${cs.subtitle}</p>
                                </div>
                            </a>
                        `;
                        grid.appendChild(card);
                    });
                };
                
                filters.addEventListener('click', e => {
                    if (e.target.tagName === 'BUTTON') {
                        filters.querySelector('.active').classList.remove('active', 'bg-cyan-500', 'text-white');
                        filters.querySelector('.active').classList.add('bg-gray-700');

                        e.target.classList.add('active', 'bg-cyan-500', 'text-white');
                        e.target.classList.remove('bg-gray-700');
                        
                        renderGrid(e.target.dataset.filter);
                    }
                });

                // Style the filter buttons
                filters.querySelectorAll('button').forEach(btn => {
                    btn.className = 'px-4 py-2 rounded-md bg-gray-700 text-gray-300 hover:bg-gray-600 transition';
                    if (btn.dataset.filter === 'all') {
                        btn.classList.add('active', 'bg-cyan-500', 'text-white');
                        btn.classList.remove('bg-gray-700');
                    }
                });
                
                renderGrid();
            },
            
            populateCaseStudyDetail(page, slug) {
                const study = db.caseStudies.find(cs => cs.slug === slug);
                if (!study) {
                    this.render('/404');
                    return;
                }
                page.querySelector('#detail-title').textContent = study.title;
                page.querySelector('#detail-subtitle').textContent = study.subtitle;
                page.querySelector('#detail-image').src = study.image;
                page.querySelector('#detail-image').alt = study.title;
                page.querySelector('#detail-kpi1').textContent = study.kpi1;
                page.querySelector('#detail-kpi2').textContent = study.kpi2;
                page.querySelector('#detail-kpi3').textContent = study.kpi3;
                page.querySelector('#detail-kpi4').textContent = study.kpi4;
                page.querySelector('#detail-content').innerHTML = study.content;
            },

            initializeHomePage(page) {
                // Animate KPI counters
                const kpiValues = page.querySelectorAll('.kpi-value');
                const animateValue = (el) => {
                    const target = parseFloat(el.dataset.target);
                    const prefix = el.dataset.prefix || '';
                    const suffix = el.dataset.suffix || '';
                    let start = 0;
                    const duration = 2000;
                    const stepTime = 20;
                    const steps = duration / stepTime;
                    const increment = target / steps;
                    
                    const timer = setInterval(() => {
                        start += increment;
                        if (start >= target) {
                            start = target;
                            clearInterval(timer);
                        }
                        const isInt = Number.isInteger(target);
                        el.textContent = prefix + (isInt ? Math.floor(start) : start.toFixed(1)) + suffix;
                    }, stepTime);
                };
                
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            kpiValues.forEach(animateValue);
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.5 });
                
                observer.observe(page);

                // Magnetic buttons
                 page.querySelectorAll('.magnetic-button').forEach(button => {
                    button.addEventListener('mousemove', e => {
                        const { offsetX, offsetY, target: { offsetWidth, offsetHeight } } = e;
                        const x = (offsetX - offsetWidth / 2) * 0.3;
                        const y = (offsetY - offsetHeight / 2) * 0.3;
                        button.style.transform = `translate(${x}px, ${y}px) scale(1.05)`;
                    });
                    button.addEventListener('mouseleave', () => {
                        button.style.transform = 'translate(0, 0) scale(1)';
                    });
                });
            },

            initializeContactPage(page) {
                 const form = page.querySelector('#contact-form');
                 const successMessage = page.querySelector('#form-success-message');
                 form.addEventListener('submit', (e) => {
                     e.preventDefault();
                     // Here you would typically send data to a server
                     console.log('Form submitted. In a real app, this would send an email.');
                     form.style.display = 'none';
                     successMessage.style.display = 'block';
                 });
            },
        };

        // --- EVENT LISTENERS ---
        // Clicks on nav links are handled by the default browser hash change behavior
        
        window.addEventListener('hashchange', () => {
            const path = location.hash.slice(1) || '/';
            router.render(path);
        });

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        // Close mobile menu on link click
        mobileMenu.addEventListener('click', e => {
            if (e.target.classList.contains('nav-link')) {
                 mobileMenu.classList.add('hidden');
            }
        });

        // Command Palette Logic
        const openCommandPalette = () => {
            renderCommandResults('');
            commandPalette.classList.remove('hidden');
            commandInput.focus();
        };

        const closeCommandPalette = () => {
            commandPalette.classList.add('hidden');
            commandInput.value = '';
        };
        
        commandPalette.addEventListener('click', e => {
             if (e.target.closest('.nav-link')) {
                closeCommandPalette();
             }
        });

        cmdKButton.addEventListener('click', openCommandPalette);

        commandPalette.addEventListener('click', (e) => {
            if (e.target === commandPalette) closeCommandPalette();
        });

        const renderCommandResults = (query) => {
            commandResults.innerHTML = '';
            const lowerQuery = query.toLowerCase();
            const results = db.commandPaletteLinks.filter(link => link.name.toLowerCase().includes(lowerQuery));
            
            if(results.length === 0){
                commandResults.innerHTML = `<li class="p-4 text-gray-400">No results found.</li>`;
                return;
            }

            results.forEach(link => {
                const li = document.createElement('li');
                li.innerHTML = `<a href="${link.path}" class="nav-link block p-4 hover:bg-gray-800">${link.name}</a>`;
                commandResults.appendChild(li);
            });
        };

        commandInput.addEventListener('input', () => renderCommandResults(commandInput.value));

        document.addEventListener('keydown', (e) => {
            if (e.key === 'k' && (e.metaKey || e.ctrlKey)) {
                e.preventDefault();
                openCommandPalette();
            }
            if (e.key === 'Escape' && !commandPalette.classList.contains('hidden')) {
                closeCommandPalette();
            }
        });


        // --- INITIALIZATION ---
        lucide.createIcons();
        const initialPath = location.hash.slice(1) || '/';
        router.render(initialPath);
    });
    </script>
</body>
</html>

